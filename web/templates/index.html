<!doctype html>
<html lang="en">
<title>Check Mate</title>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="../static/css/bootstrap/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../static/css/main.css">
</head>
<body style="padding: 25px">

<!-- Main Container -->
<div class="container">

    <!-- Header Section -->
    <div class="row">
        <!-- Logo -->
        <div style="float: left">
            <img src="../static/images/aws_logo.png" alt="aws_forums_logo" width="300px" height="150px">
        </div>
        <div style="float: left; margin-top: 50px">
            <h3>AWS Forums - EC2 & RDS Sanity Check </h3>
            <p style="color: gray">A sanity check to help diagnose common issues with your EC2 & RDS instances.</p>
        </div>
    </div>

    <div class="row card" style="padding: 30px">
        <!-- Form -->
        <form action="/run" method="POST">
            <div class="form-group">
                <label for="endpoint" class="card-title">Instance Endpoint or IP</label>
                <input type="text" class="form-control" id="endpoint" placeholder="enter instance endpoint or IP" name="endpoint">
            </div>

            <label style="margin-top: 20px">Select tests to perform:</label>
            <div class="form-group form-check">
                <div style="float: left; margin-left: 5px">
                    <input type="checkbox" name="checks" value="ping">
                    <label>ping</label>
                </div>
                <div style="float: left; margin-left: 20px">
                    <input type="checkbox" name="checks" value="traceroute">
                    <label>traceroute</label>
                </div>
                <div style="float: left; margin-left: 20px; margin-right: 20px">
                    <input type="checkbox" name="checks" value="telnet" id="telnet">
                    <label>telnet</label>
                </div>
                <div style="margin-left: 20px">
                    <input type="checkbox" name="checks" value="nslookup">
                    <label>nslookup</label>
                </div>
            </div>
            <div id="port_numbers" class="form-group" style="display: none; margin-top: 20px">
                <div class="form-group" >
                  <label for="sel1">Select port to test</label>
                  <select class="form-control" id="sel1">
                      <option>22 - SSH</option>
                      <option>80 - HTTP</option>
                      <option>443 - HTTPS</option>
                      <option>3389 - RDP</option>
                      <option>3306 - MySQL/Aurora</option>
                      <option>5432 - Postgres</option>
                      <option>1521 - Oracle</option>
                      <option>1433 - MSSQL</option>
                  </select>
                </div>
            </div>
            <div style="margin-top: 30px">
                <button type="submit" class="btn btn-primary" onclick="unhide_progress_bar()">Analyse</button>
            </div>
            <div style="margin-top: 40px; display: none" id="progress_bar">
                 <p>Running test 1 of x</p>
                <div class="progress">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width:0%"></div>
                </div>
            </div>

        </form>

    </div>

</div>

<script>
    checkbox = document.getElementById('telnet');

    checkbox.addEventListener('change', e => {

        if(e.target.checked){
           document.getElementById('port_numbers').style.display = "block"
        }
        else if(!e.target.checked) {
             document.getElementById('port_numbers').style.display = "none"
        }

    });

    function unhide_progress_bar() {
        document.getElementById('progress_bar').style.display = 'block'
    }


</script>

<!-- Scripts -->

<script src="../static/js/jquery/jquery-3.4.1.js"></script>
<script src="../static/js/bootstrap/bootstrap.js"></script>
<script src="../static/js/main.js"></script>
</body>
</html>
